{% extends "base.html" %}
{% block title %}Dashboard - Criminal Detection System{% endblock %}
{% block body %}
<div class="app-layout">
  <header class="app-header">
    <span></span>
    <h1>CRIMINAL DETECTION SYSTEM</h1>
    <form method="post" action="/api/auth/logout" style="margin-left: auto;">
      <input type="hidden" name="csrf" value="">
      <button type="submit" class="btn btn-ghost" id="logout-btn">Logout</button>
    </form>
  </header>
  <div class="sep"></div>

  <div class="dashboard-card">
    <div class="header-row">
      <h2>Dashboard</h2>
    </div>
    <div class="logo-wrap">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
    </div>
    <div class="dashboard-actions">
      <a href="{{ url_for('register_criminal_page') }}" class="btn btn-primary">Register Criminal</a>
      <a href="{{ url_for('detect_page') }}" class="btn btn-primary">Scan Criminal</a>
      <a href="{{ url_for('cctv_page') }}" class="btn btn-secondary">CCTV Surveillance</a>
    </div>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script>
  document.querySelector('form[action="/api/auth/logout"]').addEventListener('submit', async function(e) {
    e.preventDefault();
    await fetch('/api/auth/logout', { method: 'POST', headers: { 'Content-Type': 'application/json' } });
    window.location.href = '/login';
  });
</script>
{% endblock %}
